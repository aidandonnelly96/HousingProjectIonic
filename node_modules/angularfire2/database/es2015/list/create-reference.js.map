{"version":3,"sources":["../../../../../src/database/list/create-reference.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,mBAAmB,EAAE,qBAAqB,EAAE,MAAM,UAAU,CAAC;AACtE,OAAO,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC;AACrD,OAAO,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC;AACjD,OAAO,EAAE,yBAAyB,EAAE,MAAM,kBAAkB,CAAC;AAC7D,OAAO,EAAE,kBAAkB,EAAE,MAAM,UAAU,CAAC;AAE9C,MAAM,8BAAiC,KAAoB;IACzD,MAAM,CAAC;QACL,KAAK;QACL,MAAM,EAAE,yBAAyB,CAAI,KAAK,CAAC,GAAG,EAAE,QAAQ,CAAC;QACzD,GAAG,EAAE,yBAAyB,CAAI,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC;QACnD,IAAI,EAAE,CAAC,IAAO,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QACvC,MAAM,EAAE,kBAAkB,CAAC,KAAK,CAAC,GAAG,CAAC;QACrC,eAAe,EAAE,mBAAmB,CAAC,KAAK,CAAC;QAC3C,YAAY,EAAE,kBAAkB,CAAC,KAAK,CAAC;QACvC,UAAU,EAAE,gBAAgB,CAAC,KAAK,CAAC;QACnC,YAAY,CAAI,MAAqB;YACnC,MAAM,CAAC,qBAAqB,CAAC,KAAK,EAAE,MAAM,CAAC;iBACxC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACxD,CAAC;KACF,CAAA;AACH,CAAC","file":"create-reference.js","sourceRoot":"","sourcesContent":["import { DatabaseQuery, AngularFireList, ChildEvent } from '../interfaces';\nimport { createLoadedChanges, loadedSnapshotChanges } from './loaded';\nimport { createStateChanges } from './state-changes';\nimport { createAuditTrail } from './audit-trail';\nimport { createDataOperationMethod } from './data-operation';\nimport { createRemoveMethod } from './remove';\n\nexport function createListReference<T>(query: DatabaseQuery): AngularFireList<T> {\n  return {\n    query,\n    update: createDataOperationMethod<T>(query.ref, 'update'),\n    set: createDataOperationMethod<T>(query.ref, 'set'),\n    push: (data: T) => query.ref.push(data),\n    remove: createRemoveMethod(query.ref),\n    snapshotChanges: createLoadedChanges(query),\n    stateChanges: createStateChanges(query),\n    auditTrail: createAuditTrail(query),\n    valueChanges<T>(events?: ChildEvent[]) { \n      return loadedSnapshotChanges(query, events)\n        .map(actions => actions.map(a => a.payload!.val())); \n    }\n  }\n}\n"]}