{"version":3,"sources":["../../../../src/database/list/utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAGjC,MAAM,8BAA8B,MAAc;IAChD,EAAE,CAAA,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,MAAO,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;QACzC,MAAM,GAAG,CAAC,aAAa,EAAE,eAAe,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAC5E,CAAC;IACD,MAAM,CAAC,MAAM,CAAC;AAChB,CAAC;AAED,MAAM,sBAAsB,OAAyB,EAAE,GAAG;IACxD,IAAM,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC;IAC3B,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;QACxB,EAAE,CAAA,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAQ,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;YACnC,MAAM,CAAC,CAAC,CAAC;QACX,CAAC;IACH,CAAC;IACD,MAAM,CAAC,CAAC,CAAC,CAAC;AACZ,CAAC;AAED,MAAM,wBAAwB,OAAyB,EAAE,OAAgB;IACvE,EAAE,CAAA,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAClB,MAAM,CAAC,CAAC,CAAC;IACX,CAAC;IAAC,IAAI,CAAC,CAAC;QACN,IAAM,CAAC,GAAG,WAAW,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACxC,EAAE,CAAA,CAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACb,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;QACxB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;QACf,CAAC;IACH,CAAC;AACH,CAAC","file":"utils.js","sourceRoot":"","sourcesContent":["import { isNil } from '../utils';\nimport { SnapshotAction } from '../interfaces';\n\nexport function validateEventsArray(events?: any[]) {\n  if(isNil(events) || events!.length === 0) {\n    events = ['child_added', 'child_removed', 'child_changed', 'child_moved'];\n  }\n  return events;\n}\n\nexport function positionFor(changes: SnapshotAction[], key) {\n  const len = changes.length;\n  for(let i=0; i<len; i++) {\n    if(changes[i].payload!.key === key) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nexport function positionAfter(changes: SnapshotAction[], prevKey?: string) {\n  if(isNil(prevKey)) { \n    return 0; \n  } else {\n    const i = positionFor(changes, prevKey);\n    if( i === -1) {\n      return changes.length;\n    } else {\n      return i + 1;\n    }\n  }\n}\n"]}